using Magic.IndexedDb;
using Magic.IndexedDb.Helpers;
using Microsoft.AspNetCore.Components.Rendering;
using Microsoft.AspNetCore.Components;

namespace E2eTestWebApp.TestPages;

[Route("/OpenTest")]
public class OpenTestPage(IMagicDbFactory magic) : TestPageBase
{
    public async Task<string> DirectOpen()
    {
        await magic.OpenAsync(new DbStore()
        {
            Name = "OpenTest.Test1",
            Version = "1",
            StoreSchemas = []
        });
        return "OK";
    }
}