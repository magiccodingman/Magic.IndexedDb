using Magic.IndexedDb;
using Magic.IndexedDb.Helpers;
using Microsoft.AspNetCore.Components.Rendering;
using Microsoft.AspNetCore.Components;

namespace E2eTestWebApp.TestPages;

[Route("/OpenTest")]
public class OpenTestPage(IMagicDbFactory magic) : TestPageBase
{
    public async Task<string> DirectOpen()
    {
        _ = await magic.OpenAsync(new DbStore()
        {
            Name = "OpenTest.DirectOpen",
            Version = "1",
            StoreSchemas = [new StoreSchema() {
                 Name = "Store1"
            }]
        });
        return "OK";
    }
}