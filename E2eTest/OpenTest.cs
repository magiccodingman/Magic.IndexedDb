using E2eTestWebApp.TestPages;
using System.Text.Json;

namespace E2eTest;

[TestClass]
public class OpenTest : TestBase<OpenTestPage>
{
    [TestMethod]
    public async Task DirectOpenTest()
    {
        var result = await this.RunTestPageMethodAsync<string>(p => p.DirectOpen);
        Assert.AreEqual("OK", result);

        await using var p = await this.NewPageAsync();
        var databases = await p.Page.EvaluateAsync<JsonElement>("indexedDB.databases()");
        // TODO: ...
    }
}
